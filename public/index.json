[
{
	"uri": "http://localhost:3205/4-verify-new-account/4.1-frontend/",
	"title": "Build The Website Frontend",
	"tags": [],
	"description": "",
	"content": "Content Commit new files and folders as images Commit new changes for App.tsx for the frontend Update the App.css file Update the index.css file Commit new files and folders as images For this project, we have created our own custom logo simply just for aesthetic reason, you can drop in your own logo or remove it entirely.\nIn src folder, create another folder named assets and within it create another pics folder then drop the provided logo.png inside.\nCommit new changes for App.tsx for the frontend Update App.tsx file in src folder with these lines of codes. Knowing that we added a footer for copyright reason but feel free to delete it.\nimport type { FormEvent } from \u0026#34;react\u0026#34;; import { useState, useEffect } from \u0026#34;react\u0026#34;; import { Loader, Placeholder } from \u0026#34;@aws-amplify/ui-react\u0026#34;; import \u0026#34;./App.css\u0026#34;; import { Amplify } from \u0026#34;aws-amplify\u0026#34;; import type { Schema } from \u0026#34;../amplify/data/resource\u0026#34;; import { generateClient } from \u0026#34;aws-amplify/data\u0026#34;; import outputs from \u0026#34;../amplify_outputs.json\u0026#34;; import logoImage from \u0026#34;./assets/pics/logo.png\u0026#34;; import { signOut } from \u0026#34;aws-amplify/auth\u0026#34;; import \u0026#34;@aws-amplify/ui-react/styles.css\u0026#34;; Amplify.configure(outputs); const amplifyClient = generateClient\u0026lt;Schema\u0026gt;({ authMode: \u0026#34;userPool\u0026#34;, }); function App() { const [result, setResult] = useState\u0026lt;string\u0026gt;(\u0026#34;\u0026#34;); const [loading, setLoading] = useState(false); const [inputValue, setInputValue] = useState(\u0026#34;\u0026#34;); const [animateIntro, setAnimateIntro] = useState(false); const [error, setError] = useState\u0026lt;string | null\u0026gt;(null); const [usingFallback, setUsingFallback] = useState(false); useEffect(() =\u0026gt; { // Trigger animation after component mounts setAnimateIntro(true); }, []); const callBedrockAPI = async (ingredients: string[], useFallback = false) =\u0026gt; { // Create a promise that will reject after 30 seconds const timeout = new Promise\u0026lt;never\u0026gt;((_, reject) =\u0026gt; { setTimeout(() =\u0026gt; reject(new Error(\u0026#39;Request timed out\u0026#39;)), 30000); }); try { const response = await Promise.race([ useFallback ? amplifyClient.queries.askBedrockFallback({ ingredients }) : amplifyClient.queries.askBedrock({ ingredients }), timeout ]); // If we get here, API request completed before timeout if (!response.data) { throw new Error(\u0026#34;No data returned from the API\u0026#34;); } return response.data.body; } catch (error) { // Re-throw the error to handle it in the calling function throw error; } }; const onSubmit = async (event: FormEvent\u0026lt;HTMLFormElement\u0026gt;) =\u0026gt; { event.preventDefault(); if (!inputValue.trim()) return; setLoading(true); setResult(\u0026#34;\u0026#34;); setError(null); setUsingFallback(false); try { const ingredientsInput = inputValue.trim(); const ingredientsArray = ingredientsInput .split(\u0026#34;,\u0026#34;) .map(ingredient =\u0026gt; ingredient.trim()) .filter(ingredient =\u0026gt; ingredient.length \u0026gt; 0); try { // First try the primary region (ap-southeast-1) const resultText = await callBedrockAPI(ingredientsArray, false); setResult(resultText || \u0026#34;No recipe content returned\u0026#34;); } catch (primaryError) { console.warn(\u0026#34;Primary region failed, trying fallback:\u0026#34;, primaryError); setUsingFallback(true); try { // If primary region fails, try the fallback region (ap-northeast-1) const fallbackResult = await callBedrockAPI(ingredientsArray, true); setResult(fallbackResult || \u0026#34;No recipe content returned\u0026#34;); } catch (fallbackError) { // Both regions failed console.error(\u0026#34;Both regions failed:\u0026#34;, fallbackError); if (fallbackError instanceof Error) { setError(`Service unavailable: ${fallbackError.message}`); } else { setError(\u0026#34;Service is unavailable in all regions. Please try again later.\u0026#34;); } } } } catch (e) { console.error(\u0026#34;Exception:\u0026#34;, e); if (e instanceof Error) { setError(`An error occurred: ${e.message}`); } else { setError(\u0026#34;An unknown error occurred. Please try again.\u0026#34;); } } finally { setLoading(false); } }; const handleInputChange = (e: React.ChangeEvent\u0026lt;HTMLInputElement\u0026gt;) =\u0026gt; { setInputValue(e.target.value); }; const handleLogout = async () =\u0026gt; { try { await signOut(); // The Authenticator will handle the UI change automatically } catch (error) { console.error(\u0026#39;Error signing out: \u0026#39;, error); } }; return ( \u0026lt;div className=\u0026#34;app-container\u0026#34;\u0026gt; \u0026lt;div className=\u0026#34;nav-container\u0026#34;\u0026gt; \u0026lt;button className=\u0026#34;logout-button\u0026#34; onClick={handleLogout}\u0026gt; Log Out \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={`header-container ${animateIntro ? \u0026#39;fade-in\u0026#39; : \u0026#39;\u0026#39;}`}\u0026gt; \u0026lt;img src={logoImage} alt=\u0026#34;Recipe AI Logo\u0026#34; className=\u0026#34;logo\u0026#34; /\u0026gt; \u0026lt;h1 className=\u0026#34;main-header\u0026#34;\u0026gt; Do you have some \u0026lt;br /\u0026gt; \u0026lt;span className=\u0026#34;highlight\u0026#34;\u0026gt;Leftover?\u0026lt;/span\u0026gt; \u0026lt;/h1\u0026gt; \u0026lt;p className=\u0026#34;description\u0026#34;\u0026gt; Just type in any ingredients you have left in your fridge or pantry, separated by commas. We\u0026#39;ll help you create a delicious recipe with what you already have! \u0026lt;br /\u0026gt; \u0026lt;span className=\u0026#34;multilingual-note\u0026#34;\u0026gt; (Our website supports all languages, please input the ingredients in your language) \u0026lt;/span\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;form onSubmit={onSubmit} className={`form-container ${animateIntro ? \u0026#39;slide-up\u0026#39; : \u0026#39;\u0026#39;}`}\u0026gt; \u0026lt;div className=\u0026#34;search-container\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; className=\u0026#34;wide-input\u0026#34; id=\u0026#34;ingredients\u0026#34; name=\u0026#34;ingredients\u0026#34; placeholder=\u0026#34;Chicken, rice, carrots, onion...\u0026#34; value={inputValue} onChange={handleInputChange} /\u0026gt; \u0026lt;button type=\u0026#34;submit\u0026#34; className=\u0026#34;search-button\u0026#34; disabled={loading || !inputValue.trim()} \u0026gt; {loading ? \u0026#39;Processing...\u0026#39; : \u0026#39;Generate\u0026#39;} \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; {(loading || result || error) \u0026amp;\u0026amp; ( \u0026lt;div className={`result-container ${result || loading || error ? \u0026#39;appear\u0026#39; : \u0026#39;\u0026#39;}`}\u0026gt; {loading ? ( \u0026lt;div className=\u0026#34;loader-container\u0026#34;\u0026gt; \u0026lt;p\u0026gt;Creating your personalized recipe...\u0026lt;/p\u0026gt; \u0026lt;Loader size=\u0026#34;large\u0026#34; /\u0026gt; \u0026lt;Placeholder size=\u0026#34;large\u0026#34; /\u0026gt; \u0026lt;Placeholder size=\u0026#34;large\u0026#34; /\u0026gt; \u0026lt;Placeholder size=\u0026#34;large\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; ) : error ? ( \u0026lt;p className=\u0026#34;result error-message\u0026#34;\u0026gt;{error}\u0026lt;/p\u0026gt; ) : ( \u0026lt;\u0026gt; {usingFallback \u0026amp;\u0026amp; ( \u0026lt;p className=\u0026#34;fallback-notice\u0026#34;\u0026gt;Using fallback region (ap-northeast-1)\u0026lt;/p\u0026gt; )} \u0026lt;p className=\u0026#34;result\u0026#34;\u0026gt;{result}\u0026lt;/p\u0026gt; \u0026lt;/\u0026gt; )} \u0026lt;/div\u0026gt; )} \u0026lt;footer className=\u0026#34;footer\u0026#34;\u0026gt; © {new Date().getFullYear()} Aiden Dinh \u0026amp; Arthur Nguyen \u0026lt;/footer\u0026gt; \u0026lt;/div\u0026gt; ); } export default App; Update the App.css file Afterwards, update the App.css file:\n/* Modern UI Variables */ :root { --dark-yellow: #E6C700; --hue-green: #8DCB85; --dark-green: #116530; --darker-green: #0A4D25; --white: #FFFFFF; --light-background: #fcffe3; --accent-color: #FFD700; --border-radius-sm: 8px; --border-radius-md: 12px; --border-radius-lg: 20px; --box-shadow-sm: 0 4px 6px rgba(0, 0, 0, 0.1); --box-shadow-md: 0 6px 12px rgba(0, 0, 0, 0.15); --box-shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.2); --transition-fast: all 0.2s ease; --transition-normal: all 0.3s ease; --animation-duration: 0.8s; } /* Global Styles */ * { box-sizing: border-box; } body { margin: 0; padding: 0; } /* Animations */ @keyframes fadeIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } } @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } } @keyframes appear { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } } .fade-in { animation: fadeIn var(--animation-duration) ease forwards; } .slide-up { animation: slideUp var(--animation-duration) ease forwards; animation-delay: 0.3s; opacity: 0; animation-fill-mode: forwards; } .appear { animation: appear var(--animation-duration) ease forwards; } .app-container { margin: 0 auto; padding: 20px; padding-bottom: 60px; text-align: center; background: var(--light-background); min-height: 100vh; color: var(--dark-green); font-family: \u0026#39;Inter\u0026#39;, sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; } /* Logo Styling */ .logo { max-width: 150px; margin-bottom: 1rem; background-color: var(--white); border-radius: 30%; padding: 10px; transition: var(--transition-normal); transform: translateY(0); } .logo:hover { transform: translateY(-5px); box-shadow: var(--box-shadow-lg); } /* Header Styling */ .header-container { padding: 2.5rem; margin: auto; margin-bottom: 2.5rem; text-align: center; align-items: center; max-width: 48rem; background: linear-gradient(135deg, var(--dark-green) 0%, var(--darker-green) 100%); border-radius: var(--border-radius-lg); box-shadow: var(--box-shadow-md); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); width: 100%; } /* Typography */ .main-header { font-size: 2.5rem; font-weight: 800; color: var(--white); letter-spacing: -0.5px; line-height: 1.2; margin-bottom: 1.5rem; } .main-header .highlight { color: var(--accent-color); position: relative; display: inline-block; } .main-header .highlight::after { content: \u0026#39;\u0026#39;; position: absolute; bottom: -3.5px; left: 0; width: 90%; height: 5px; background: var(--accent-color); border-radius: 2px; opacity: 0.6; } .description { font-weight: 400; font-size: 1.125rem; max-width: 65ch; color: var(--white); margin: 1.5rem auto; line-height: 1.6; opacity: 0.9; } .multilingual-note { font-size: 0.85rem; opacity: 0.8; font-style: italic; display: inline-block; margin-top: 0.5rem; } /* Form Styling */ .form-container { margin-bottom: 2rem; background: linear-gradient(145deg, var(--dark-green) 0%, var(--darker-green) 100%); border-radius: var(--border-radius-lg); padding: 2rem; max-width: 800px; margin: 0 auto 2rem; box-shadow: var(--box-shadow-md); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(5px); width: 100%; } .search-container { display: flex; flex-direction: column; gap: 1rem; align-items: center; width: 100%; } .wide-input { width: 100%; padding: 1rem 1.25rem; font-size: 1rem; border: 2px solid rgba(141, 203, 133, 0.5); border-radius: var(--border-radius-md); background-color: rgba(255, 255, 255, 0.9); color: var(--dark-green); transition: var(--transition-fast); box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05); } .wide-input:focus { outline: none; border-color: var(--accent-color); box-shadow: 0 0 0 3px rgba(230, 199, 0, 0.3), inset 0 2px 4px rgba(0, 0, 0, 0.05); } .wide-input::placeholder { color: rgba(17, 101, 48, 0.5); } .search-button { width: 100%; max-width: 300px; padding: 0.9rem 1.5rem; font-size: 1rem; background: linear-gradient(to right, var(--dark-yellow) 0%, #ffdc60 100%); color: var(--white); border: none; border-radius: var(--border-radius-md); cursor: pointer; font-weight: 600; transition: var(--transition-normal); letter-spacing: 0.5px; text-transform: uppercase; box-shadow: var(--box-shadow-sm); } .search-button:hover:not(:disabled) { background: linear-gradient(to right, var(--hue-green) 0%, #A0E897 100%); transform: translateY(-3px); box-shadow: var(--box-shadow-md); } .search-button:active:not(:disabled) { transform: translateY(-1px); } .search-button:disabled { opacity: 0.6; cursor: not-allowed; background: #cccccc; color: #666666; } /* Results Area */ .result-container { transition: var(--transition-normal); overflow: hidden; max-width: 800px; margin: 2rem auto; background: linear-gradient(145deg, var(--dark-green) 0%, var(--darker-green) 100%); border-radius: var(--border-radius-lg); padding: 0.5rem; box-shadow: var(--box-shadow-md); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(5px); width: 100%; } .loader-container { display: flex; flex-direction: column; align-items: center; gap: 1rem; background: transparent; border-radius: var(--border-radius-md); padding: 2rem; } .loader-container p { font-size: 1.1rem; color: var(--white); margin-bottom: 1rem; } .result { background: linear-gradient(to bottom, #f4f7d9 0%, #f5fcbf 100%); border: none; border-radius: var(--border-radius-md); padding: 2rem; white-space: pre-wrap; word-wrap: break-word; color: var(--dark-green); font-weight: 400; text-align: left; box-shadow: var(--box-shadow-md); margin: 1rem; width: calc(100% - 2rem); line-height: 1.6; } .error-message { background: linear-gradient(to bottom, #fff0f0 0%, #ffe0e0 100%); color: #d32f2f; border-left: 4px solid #d32f2f; } /* Responsive Adjustments */ @media (min-width: 768px) { .main-header { font-size: 3.75rem; } .search-container { flex-direction: row; } .search-button { width: auto; min-width: 150px; } .wide-input { flex: 1; } } @media (max-width: 480px) { .header-container, .form-container, .result-container { padding: 1.5rem; } .main-header { font-size: 2rem; } .logo { max-width: 100px; } } /* Logout Button */ .nav-container { position: absolute; top: 20px; right: 20px; z-index: 10; } .logout-button { background: var(--dark-green); color: var(--white); border: none; border-radius: var(--border-radius-md); padding: 8px 16px; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: var(--transition-fast); box-shadow: var(--box-shadow-sm); } .logout-button:hover { background: var(--darker-green); transform: translateY(-2px); box-shadow: var(--box-shadow-md); } /* Footer Styling */ .footer { width: 100%; background-color: #000; color: var(--white); padding: 12px 0; text-align: center; font-size: 0.85rem; position: fixed; bottom: 0; left: 0; right: 0; } Update the index.css file Last but not least, also update the index.css file with:\nfont-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif; line-height: 1.5; font-weight: 400; color: rgba(255, 255, 255, 0.87); background-color: #fcffe3; font-synthesis: none; text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; max-width: 1280px; margin: 0 auto; padding: 2rem; } body { margin: 0; padding: 0; min-width: 320px; min-height: 100vh; background-color: #fcffe3; } .card { padding: 2em; } .read-the-docs { color: #8DCB85; } .box:nth-child(3n + 1) { grid-column: 1; } .box:nth-child(3n + 2) { grid-column: 2; } .box:nth-child(3n + 3) { grid-column: 3; } The end result should look like this:\n"
},
{
	"uri": "http://localhost:3205/12-s3-bucket-for-data-storage/12.1-navigate-to-s3-console/",
	"title": "Navigate to S3 Console",
	"tags": [],
	"description": "",
	"content": "Access the S3 Service To begin creating your S3 bucket, you need to navigate to the S3 service within the AWS Management Console.\nNavigate to S3 Console Go to the AWS Management Console and search for S3 in the services search bar. Click on S3 to access the Simple Storage Service console. Start Bucket Creation Once you\u0026rsquo;re in the S3 console:\nClick Create bucket to start the bucket creation process. This will open the bucket configuration page where you can specify your bucket settings. Result You are now ready to configure your S3 bucket settings in the next step.\n"
},
{
	"uri": "http://localhost:3205/",
	"title": "Setting up an AWS account",
	"tags": [],
	"description": "",
	"content": "Creating your first AWS account Overview In this first lab, you will be creating your new AWS account and use Multi-factor Authentication (MFA) to improve your account security. Next, you will create an Administrator Group and Admin User to manage access to resources in your account instead of using the root user. Finally, we will step through account authentication with AWS Support in the event you experience authentication problems.\nAWS Account An AWS account is the basic container for all the AWS resources you can create as an AWS customer. By default, each AWS account will have a root user. The root user has full access within your AWS account, and root user permissions cannot be limited. When you first create your AWS account, you will be assessing it as the root user.\nAs a best practice, do not use the AWS account root user for any task where it\u0026rsquo;s not required. Instead, create a new IAM user for each person that requires administrator access. Thereafter, the users in the administrators user group should set up the user groups, users, and so on, for the AWS account. All future interaction should be through the AWS account\u0026rsquo;s users and their own keys instead of the root user. However, to perform some account and service management tasks, you must log in using the root user credentials.\nMulti-Factor Authentication (MFA) MFA adds extra security because it requires users to provide unique authentication from an AWS supported MFA mechanism in addition to their regular sign-in credentials when they access AWS websites or services.\nIAM User Group An IAM user group is a collection of IAM users. User groups let you specify permissions for multiple users, which can make it easier to manage the permissions for those users. Any user in that user group automatically has the permissions that are assigned to the user group.\nIAM User An IAM user is an entity that you create in AWS to represent the person or application that uses it to interact with AWS. A user in AWS consists of a name and credentials. Please note that an IAM user with administrator permissions is not the same thing as the AWS account root user.\nAWS Support AWS Basic Support offers all AWS customers access to our Resource Center, Service Health Dashboard, Product FAQs, Discussion Forums, and Support for Health Checks – at no additional charge. Customers who desire a deeper level of support can subscribe to AWS Support at the Developer, Business, or Enterprise level.\nCustomers who choose AWS Support gain one-on-one, fast-response support from AWS engineers. The service helps customers use AWS\u0026rsquo;s products and features. With pay-by-the-month pricing and unlimited support cases, customers are freed from long-term commitments. Customers with operational issues or technical questions can contact a team of support engineers and receive predictable response times and personalized support.\nMain Content Creating a new AWS Account Setting up MFA for the AWS Account root user Creating an Administrator Accounts and Groups Getting support for Account Authentication "
},
{
	"uri": "http://localhost:3205/3-create-admin-user-and-group/3.1-legacy-way/",
	"title": "Setting up AWS Bedrock (Legacy)",
	"tags": [],
	"description": "",
	"content": "Content Request an AWS Bedrock Model Choosing the AI Model inside Bedrock Make a fallback server Request an AWS Bedrock Model Request an AWS Bedrock Model You will need to get to Amazon Bedrock and click on Model Catalog.\nYou will be greeted by one of those two pages. In either way, click on the mark part of the image.\nAfterward, click on the AI model and click on Modify Access.\nChoosing the AI Model inside Bedrock In this case, we will choose Claude 3.5 Sonnet as it is readily available at ap-southeast-1 region. You can check the availability of AI models within each region via this link: https://docs.aws.amazon.com/bedrock/latest/userguide/models-regions.html\nFirst, you will need to choose to modify the Model Access. There are two scenarios:\nThis is the scenario where you have not modfiy any model access into Amazon Bedrock. If you are in this case, choose Modify model access.\nThis is the scenario where you have modfiy any model access into Amazon Bedrock. If you are in this case, choose Enable Specific Model.\nAfter that, choose the model that you want, and in this case, it is Claude Sonnet 3.5.\nHit Submit after, nothing much will need to be changed.\nYou will need to wait for a while for the model to finish setting up. You should see this screen.\nMake a fallback server We will need a fallback server since it acts like a backup server whether our main server shutdown. You will create it using another region and follow the same steps as up there.\nIntegrate and invoke Bedrock Models to be used in our project We will need to integrate the models. Remember the two regions that you have used to make the Bedrock Models. Remember to check those.\nAfterward, get to amplify folder, look for backend.ts and update it with these lines of codes:\nimport { defineBackend } from \u0026#34;@aws-amplify/backend\u0026#34;; import { data } from \u0026#34;./data/resource\u0026#34;; import { PolicyStatement } from \u0026#34;aws-cdk-lib/aws-iam\u0026#34;; import { auth } from \u0026#34;./auth/resource\u0026#34;; const backend = defineBackend({ auth, data, }); // Primary region const bedrockDataSource = backend.data.resources.graphqlApi.addHttpDataSource( \u0026#34;bedrockDS\u0026#34;, \u0026#34;https://bedrock-runtime.ap-southeast-1.amazonaws.com\u0026#34;, { authorizationConfig: { signingRegion: \u0026#34;ap-southeast-1\u0026#34;, signingServiceName: \u0026#34;bedrock\u0026#34;, }, } ); // Fallback region const bedrockFallbackDataSource = backend.data.resources.graphqlApi.addHttpDataSource( \u0026#34;bedrockFallbackDS\u0026#34;, \u0026#34;https://bedrock-runtime.ap-northeast-1.amazonaws.com\u0026#34;, { authorizationConfig: { signingRegion: \u0026#34;ap-northeast-1\u0026#34;, signingServiceName: \u0026#34;bedrock\u0026#34;, }, } ); // Grant permissions for primary region bedrockDataSource.grantPrincipal.addToPrincipalPolicy( new PolicyStatement({ resources: [ \u0026#34;arn:aws:bedrock:ap-southeast-1::foundation-model/anthropic.claude-3-5-sonnet-20240620-v1:0\u0026#34;, ], actions: [\u0026#34;bedrock:InvokeModel\u0026#34;], }) ); // Grant permissions for fallback region bedrockFallbackDataSource.grantPrincipal.addToPrincipalPolicy( new PolicyStatement({ resources: [ \u0026#34;arn:aws:bedrock:ap-northeast-1::foundation-model/anthropic.claude-3-5-sonnet-20240620-v1:0\u0026#34;, ], actions: [\u0026#34;bedrock:InvokeModel\u0026#34;], }) ); Now, Update the corresponding region for all requested models.\nYou will need to find the model ARN next to put in. To find the link, you will once again click on Model Catalog -\u0026gt; Choose Anthropic on Filter and click on Claude Sonnet 3.5 or the model that you have chosen.\nScroll down or search around. Some models such as Karakuri or Liquid will have their own line of Model ARN and all user has to do is copy that line to resources.\nHowever, since we do not have that luxury with Claude 3.5 Sonnet, we have to be smart about the approach. First off, we have to change to the correct region for the ARN then copy the Model ID to replace the one at the end of that line.\nTo grant permission for each models, you have to update the corresponding ARN in the PolicyStatement.\nGo to amplify/data folder and create a new file called bedrock.js and paste in these lines of codes.\nexport function request(ctx) { const { ingredients = [], useFallback } = ctx.args; // Construct the prompt with the provided ingredients const prompt = `Suggest a recipe idea using these ingredients (Please provide a recipe with the language used in the input ingredients. Provide 2 to 3 different recipes if possible): ${ingredients.join(\u0026#34;, \u0026#34;)}.`; // Determine which endpoint to use based on the useFallback parameter // If useFallback is undefined or false, use the primary endpoint const endpoint = useFallback === true ? \u0026#34;bedrockFallbackDS\u0026#34; // Use fallback : \u0026#34;bedrockDS\u0026#34;; // Use primary // Return the request configuration return { resourcePath: `/model/anthropic.claude-3-5-sonnet-20240620-v1:0/invoke`, method: \u0026#34;POST\u0026#34;, params: { headers: { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, }, body: JSON.stringify({ anthropic_version: \u0026#34;bedrock-2023-05-31\u0026#34;, max_tokens: 1000, temperature: 0.4, messages: [ { role: \u0026#34;user\u0026#34;, content: [ { type: \u0026#34;text\u0026#34;, text: `\\n\\nHuman: ${prompt}\\n\\nAssistant:`, }, ], }, ], }), }, }; } export function response(ctx) { // Parse the response body const parsedBody = JSON.parse(ctx.result.body); // Extract the text content from the response const res = { body: parsedBody.content[0].text, }; // Return the response return res; } These might be long but there are only a few you have to beware of: •\tprompt: you can construct a custom prompt prior to the user’s input to keep it consistent with what you want users to experience. (Albeit, you can just skip this all together and type it in text under content). •\tresourcePath: input the model you want to use, just copy the Model ID and put it between /model/****/invoke •\tmax_tokens: the maximum sequence of characters each user can input. •\ttemperature: dictate the randomness of output response. •\ttype: what type of data you want to send. It can either be text or image.\nIn amplify/data folder, update resource.ts with these lines of codes:\nimport { type ClientSchema, a, defineData } from \u0026#34;@aws-amplify/backend\u0026#34;; const schema = a.schema({ BedrockResponse: a.customType({ body: a.string(), error: a.string(), }), askBedrock: a .query() .arguments({ ingredients: a.string().array(), useFallback: a.boolean() }) .returns(a.ref(\u0026#34;BedrockResponse\u0026#34;)) .authorization((allow) =\u0026gt; [allow.authenticated()]) .handler( a.handler.custom({ entry: \u0026#34;./bedrock.js\u0026#34;, dataSource: \u0026#34;bedrockDS\u0026#34; }) ), askBedrockFallback: a .query() .arguments({ ingredients: a.string().array() }) .returns(a.ref(\u0026#34;BedrockResponse\u0026#34;)) .authorization((allow) =\u0026gt; [allow.authenticated()]) .handler( a.handler.custom({ entry: \u0026#34;./bedrock.js\u0026#34;, dataSource: \u0026#34;bedrockFallbackDS\u0026#34; }) ), }); export type Schema = ClientSchema\u0026lt;typeof schema\u0026gt;; export const data = defineData({ schema, authorizationModes: { defaultAuthorizationMode: \u0026#34;apiKey\u0026#34;, apiKeyAuthorizationMode: { expiresInDays: 30, }, }, }); "
},
{
	"uri": "http://localhost:3205/2-mfa-setup-for-aws-user-root/1-virtual-mfa-device/",
	"title": "Setting Up the IAM Identity Center",
	"tags": [],
	"description": "",
	"content": "Content Start up the IAM Identity Center Using CloudShell to set up the management Finish the setup for AWS IAM Identity Center Start up the IAM Identity Center (If you already have a profile, attach the AmplifyBackendDeployFullAccess managed policy to your IAM user)\nOpen AWS Console to access IAM Identity Center and choose Enable.\nAfterward, a pop up will open, select Enable with AWS Organizations and choose Continue.\nAnd the basics for IAM Identity Center is ready.\nUsing CloudShell to set up the management We will now using CloudShell to connect our mail account as the main profile for the project.\nOpen CloudShell terminal within the website and paste this line of code, then enter your email address after the prompt.\nread -p \u0026#34;Enter email address: \u0026#34; user_email # hit enter Afterward, copy and paste the following command, it will show a warning due to the multiline nature, but just keep pasting anyway.\nresponse=$(aws sso-admin list-instances) ssoId=$(echo $response | jq \u0026#39;.Instances[0].IdentityStoreId\u0026#39; -r) ssoArn=$(echo $response | jq \u0026#39;.Instances[0].InstanceArn\u0026#39; -r) email_json=$(jq -n --arg email \u0026#34;$user_email\u0026#34; \u0026#39;{\u0026#34;Type\u0026#34;:\u0026#34;Work\u0026#34;,\u0026#34;Value\u0026#34;:$email}\u0026#39;) response=$(aws identitystore create-user --identity-store-id $ssoId --user-name amplify-admin --display-name \u0026#39;Amplify Admin\u0026#39; --name Formatted=string,FamilyName=Admin,GivenName=Amplify --emails \u0026#34;$email_json\u0026#34;) userId=$(echo $response | jq \u0026#39;.UserId\u0026#39; -r) response=$(aws sso-admin create-permission-set --name amplify-policy --instance-arn=$ssoArn --session-duration PT12H) permissionSetArn=$(echo $response | jq \u0026#39;.PermissionSet.PermissionSetArn\u0026#39; -r) aws sso-admin attach-managed-policy-to-permission-set --instance-arn $ssoArn --permission-set-arn $permissionSetArn --managed-policy-arn arn:aws:iam::aws:policy/service-role/AmplifyBackendDeployFullAccess accountId=$(aws sts get-caller-identity | jq \u0026#39;.Account\u0026#39; -r) aws sso-admin create-account-assignment --instance-arn $ssoArn --target-id $accountId --target-type AWS_ACCOUNT --permission-set-arn $permissionSetArn --principal-type USER --principal-id $userId Hit enter and wait.\nTo validate that this worked, run the following command in the CloudShell:\nprintf \u0026#34;\\n\\nStart session url: https://$ssoId.awsapps.com/start\\nRegion: $AWS_REGION\\nUsername: amplify-admin\\n\\n\u0026#34; You should see something like:\nStart session url: https://d-XXXXXXXXXX.awsapps.com/start\nRegion: Username: amplify-admin\nFinish the setup for AWS IAM Identity Center Now create a password for the user that we need for the next step. In the IAM Identity Center console, navigate to Users→amplify-admin.\nOnce you have clicked on the user, you will see a pop-up telling you to verify the email address. You click on that:\nCheck your email, you should get a notification from the AWS to verify your email.\nNext, you will be changing the password of your account. Once again, navigate to Users→amplify-admin. There, you will see an option to Reset Password, click on it.\nUpon clicking on it, choose Reset Password and wait for a few moments.\nCheck your email frequently, you should recieve a mail that look like this:\nFollow the steps that is provided, you will need to create a new password and a MFA. Once you are finished, head back to the IAM Identity Center, you will be given an AWS Access Portal URL.\nYou will see a sign-in screen, sign in using the earlier account, password, MFA, and you are good to go.\n"
},
{
	"uri": "http://localhost:3205/1-create-new-aws-account/",
	"title": "Setting Up the template for the Workshop",
	"tags": [],
	"description": "",
	"content": "Content: Setting up Vite Setting up Git and push to Github Setting Up Amplify into the project Setting Up Vite If you have installed Node Package Manager, then create the project using Vite. After setting up the Vite Website, start the development site. Test around to see if the website is stable. Setting up Git and push to Github When you have finished setting up Vite, install Git so you can import on GitHub.\nOnce you have installed Git, commit the workshop you have made up on Github.\nDo remember to save the progress once in a while. Setting Up Amplify into the project Intialize AWS Amplify in the project by using npm. Update the file directory, this file will contain all the configurations. Remember to commit into GitHub. "
},
{
	"uri": "http://localhost:3205/1-create-new-aws-account/1.1-find-account-id/",
	"title": "Setting Up Vite",
	"tags": [],
	"description": "",
	"content": "Set Up The Vite, React and TypeScript To kick off the development environment, we initialized the project with Vite, a next-generation frontend tooling system that offers fast build times and hot module replacement (HMR). We selected the React + TypeScript template to simplify development with type safety and modern React features.\nCreate the project using Vite Create a new project by making a new folder and direct to it inside the Visual Studio Code. After the folder is created, use this command:\nnpm create vite@latest leftover -- --template react-ts -y This command scaffolds a new Vite project named leftover with the React + TypeScript template.\nNavigate and run the development template Navigate towards the folder that you just created with this command.\ncd leftover Then, to run the program after being set up.\nnpm run dev Result Once the server is running, the development version of the application becomes accessible at: http://localhost:5173\nThe successful launch displays a default welcome screen with the Vite + React logo, a counter button, and instructions to test hot module replacement by editing the src/App.tsx file.\n"
},
{
	"uri": "http://localhost:3205/4-verify-new-account/4.2-s3/",
	"title": "Build the S3 Bucket for data storage",
	"tags": [],
	"description": "",
	"content": "Go to S3 Console and click create bucket\n•\tBucket name: leftover-storage (must be globally unique) •\tRegion: ap-southeast-1 (same as your Amplify app) •\tBlock Public Access: Keep all settings checked (data should remain private) •\tBucket Versioning: Enable (for data integrity) •\tDefault encryption: Enable with SSE-S3 Follow these formats and click create bucket\n"
},
{
	"uri": "http://localhost:3205/12-s3-bucket-for-data-storage/12.2-configure-bucket-settings/",
	"title": "Configure Bucket Settings",
	"tags": [],
	"description": "",
	"content": "Basic Configuration Settings Configure the essential settings for your S3 bucket to ensure proper functionality and security.\nSet Bucket Name and Region Configure the following basic settings:\nBucket name: leftover-storage\nMust be globally unique across all AWS accounts Use lowercase letters, numbers, and hyphens only Region: ap-southeast-1 (Singapore)\nChoose the same region as your Amplify app for optimal performance If \u0026ldquo;leftover-storage\u0026rdquo; is already taken, append a unique identifier like your initials or numbers (e.g., \u0026ldquo;leftover-storage-abc123\u0026rdquo;).\nSecurity Configuration Block Public Access Settings:\nKeep all four settings checked to ensure your data remains private This prevents accidental public exposure of your bucket contents Advanced Features Bucket Versioning:\nEnable versioning for data integrity and recovery capabilities Default Encryption:\nEnable with SSE-S3 (Server-Side Encryption with Amazon S3-Managed Keys) This ensures all objects stored in the bucket are automatically encrypted Result Your bucket configuration is now complete and ready for creation in the next step.\n"
},
{
	"uri": "http://localhost:3205/2-mfa-setup-for-aws-user-root/2-u2f-security-key/",
	"title": "Deploy the Application via AWS Amplify",
	"tags": [],
	"description": "",
	"content": "Content\nConnecting AWS Amplify with GitHub Editing the YML File Visit the Deployed URL Connecting AWS Amplify with GitHub After initializing Amplify in the project, the application was deployed using AWS Amplify’s hosting feature, which supports seamless integration with GitHub for CI/CD.\nYou will open the AWS Console by navigating to the AWS Amplify service, and click on Deploy an App or Create New App.\nOn the “Start building with Amplify” page, choose GitHub as the source provider. Log in and authorize GitHub access if prompted.\nRemember to check the branch/repository of the GitHub repository you used to store the data.\nEditing the YML File At the app setting part, you will need to edit the YML file. Put all the info just like the screenshot under and click on Edit YML file.\nInside the YML file, paste the following code:\nModify the amplify.yml file as follows: version: 1 backend: phases: preBuild: commands: - npm install build: commands: - nvm use 20 - npm ci --cache .npm --prefer-offline - npx ampx pipeline-deploy --branch $AWS_BRANCH --app-id $AWS_APP_ID frontend: phases: build: commands: - npm run build artifacts: baseDirectory: dist files: - \u0026#39;**/*\u0026#39; cache: paths: - node_modules/**/* THE COMMAND LINES MUST BE INDENTED CORRECTLY JUST LIKE THE INSTRUCTIONS.\nAfter finished editing the YML file, save and then scroll down to next.\nClick on Finish and Deploy, this will create an AWS Amplify Console that will match your liking.\nReturn to the Overview, click the Production branch, and then select Redeploy this version. Wait for the build process to complete. Once deployed, the app will be accessible at the generated domain link provided in the main branch overview.\nIn case of the yml file being wrong somewhere, you can come back to the file by choosing Hosting then Build Settings.\nVisit the Deployed URL Then, you can visit the page by clicking Visit Deployed URL.\nYou should see the result that looks like this.\n"
},
{
	"uri": "http://localhost:3205/1-create-new-aws-account/1.2-update-account/",
	"title": "Initialize Git and Push Project to GitHub",
	"tags": [],
	"description": "",
	"content": "Setting up Git and Push After setting up the local Vite + React + TypeScript project, the next step was to version control the project and push it to a remote GitHub repository named AWS-leftover.\nCreate a GitHub respository for the workshop We will need to publish our Workshop so that the services on AWS such as Amplify can access, henceforth, a GitHub account is necessary. Prepare yourself a GitHub account. Once you are ready, in your profile, click on New.\nName the respository as leftover.\nOnce you are finished with the creation, you should see the link that will connect you to your project.\nNote: Do remember that your GitHub link is private and it should only come from your GitHub profile, so we have to censor it for security and privacy reasons.\nIntialize Git into the project. Minimum Permissions: To proceed with the following steps, you will need to follow these steps:\nFirst, open up a new bash terminal and direct Git towards the project root directory:\ngit init Then, select all the files that you want to update to your repository. In this case, it will be:\ngit add . You will need to create an intial commit as well.\ngit commit -m \u0026#34;first commit\u0026#34; You will need to link your local repository to Github after that:\ngit remote add origin https://github.com/*\u0026lt;your-username\u0026gt;*/leftover.git Replace with your actual GitHub username.\nThen, you will set the branch to main.\ngit branch -M main Finally, you will need to push the project up to Github.\ngit push -u origin main Once completed, the project is hosted remotely and can be accessed, shared, or collaborated on via GitHub.\nNote: \u0026ldquo;git add .\u0026rdquo;, \u0026ldquo;git commit -m\u0026rdquo; and \u0026ldquo;git push\u0026rdquo; will be your way to save and publish your progress onto the repository.\nResult The screenshot below shows the successfully initialized GitHub repository with the project directory and supporting files committed.\n"
},
{
	"uri": "http://localhost:3205/3-create-admin-user-and-group/3.2-cross-region/",
	"title": "Setting up AWS Bedrock (Cross-Region)",
	"tags": [],
	"description": "",
	"content": "Content Request an AWS Bedrock Model Choosing the AI Model inside Bedrock Checking and implementing cross-region Model Request an AWS Bedrock Model Request an AWS Bedrock Model Same as the Legacy Way, you will need to get to Amazon Bedrock and click on Model Catalog.\nYou will be greeted by one of those two pages. In either way, click on the mark part of the image.\nAfterward, click on the AI model and click on Modify Access.\nChoosing the AI Model inside Bedrock In this case, we will choose Claude 4 Sonnet as it is readily available at ap-southeast-1 region and it has cross-region.\nFirst, you will need to choose to modify the Model Access. There are two scenarios:\nThis is the scenario where you have not modfiy any model access into Amazon Bedrock. If you are in this case, choose Modify model access.\nThis is the scenario where you have modfiy any model access into Amazon Bedrock. If you are in this case, choose Enable Specific Model.\nAfter that, choose the model that you want, and in this case, it is Claude Sonnet 4.\nHit Submit after, nothing much will need to be changed. You will need to wait for a while for the model to finish setting up. You should see this screen.\nChecking and implementing cross-region Model You will be able to find the ARN Model as well as the available regions for the models by clicking on the Cross-Region Interface and scrolled down to the model you want. (In our case, Claude Sonnet 4.)\nYou can request the Claude Sonnet 4 to as many local zones as you want in the same Region.\nIntegrate and invoke Bedrock Models to be used in our project Then, go to your bedrock.js:\nexport function request(ctx) { const { ingredients = [] } = ctx.args; // Construct the prompt with the provided ingredients const prompt = `Suggest a recipe idea using these ingredients (Please provide a recipe with the language used in the input ingredients. Provide 2 to 3 different recipes if possible): ${ingredients.join(\u0026#34;, \u0026#34;)}.`; // Use cross-region inference profile for automatic region routing const modelId = \u0026#34;apac.anthropic.claude-sonnet-4-20250514-v1:0\u0026#34;; // Return the request configuration return { resourcePath: `/model/${modelId}/invoke`, method: \u0026#34;POST\u0026#34;, params: { headers: { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, }, body: JSON.stringify({ anthropic_version: \u0026#34;bedrock-2023-05-31\u0026#34;, max_tokens: 1000, temperature: 0.4, messages: [ { role: \u0026#34;user\u0026#34;, content: [ { type: \u0026#34;text\u0026#34;, text: prompt, }, ], }, ], }), }, }; } export function response(ctx) { // Parse the response body const parsedBody = JSON.parse(ctx.result.body); // Handle potential errors if (parsedBody.error) { return { error: parsedBody.error.message || \u0026#34;Model invocation failed\u0026#34; }; } // Extract the text content from the response const res = { body: parsedBody.content \u0026amp;\u0026amp; parsedBody.content[0].text, }; // Return the response return res; } App.tsx:\nimport type { FormEvent } from \u0026#34;react\u0026#34;; import { useState, useEffect } from \u0026#34;react\u0026#34;; import { Loader, Placeholder } from \u0026#34;@aws-amplify/ui-react\u0026#34;; import \u0026#34;./App.css\u0026#34;; import { Amplify } from \u0026#34;aws-amplify\u0026#34;; import type { Schema } from \u0026#34;../amplify/data/resource\u0026#34;; import { generateClient } from \u0026#34;aws-amplify/data\u0026#34;; import outputs from \u0026#34;../amplify_outputs.json\u0026#34;; import logoImage from \u0026#34;./assets/pics/logo.png\u0026#34;; import { signOut } from \u0026#34;aws-amplify/auth\u0026#34;; import \u0026#34;@aws-amplify/ui-react/styles.css\u0026#34;; Amplify.configure(outputs); const amplifyClient = generateClient\u0026lt;Schema\u0026gt;({ authMode: \u0026#34;userPool\u0026#34;, }); function App() { const [result, setResult] = useState\u0026lt;string\u0026gt;(\u0026#34;\u0026#34;); const [loading, setLoading] = useState(false); const [inputValue, setInputValue] = useState(\u0026#34;\u0026#34;); const [animateIntro, setAnimateIntro] = useState(false); const [error, setError] = useState\u0026lt;string | null\u0026gt;(null); useEffect(() =\u0026gt; { // Trigger animation after component mounts setAnimateIntro(true); }, []); const callBedrockAPI = async (ingredients: string[]) =\u0026gt; { // Create a promise that will reject after 30 seconds const timeout = new Promise\u0026lt;never\u0026gt;((_, reject) =\u0026gt; { setTimeout(() =\u0026gt; reject(new Error(\u0026#39;Request timed out\u0026#39;)), 30000); }); try { console.log(\u0026#39;Calling Bedrock API with cross-region inference, ingredients:\u0026#39;, ingredients); const response = await Promise.race([ amplifyClient.queries.askBedrock({ ingredients }), timeout ]); console.log(\u0026#39;Received response:\u0026#39;, response); // If we get here, API request completed before timeout if (!response.data) { throw new Error(\u0026#34;No data returned from the API\u0026#34;); } // Check if there\u0026#39;s an error in the response if (response.data.error) { console.error(\u0026#39;Bedrock API returned error:\u0026#39;, response.data.error); console.error(\u0026#39;Full response:\u0026#39;, response); throw new Error(response.data.error); } // Check if body is empty or null if (!response.data.body) { throw new Error(\u0026#34;Empty response body from the API\u0026#34;); } return response.data.body; } catch (error) { // Re-throw the error to handle it in the calling function throw error; } }; const onSubmit = async (event: FormEvent\u0026lt;HTMLFormElement\u0026gt;) =\u0026gt; { event.preventDefault(); if (!inputValue.trim()) return; setLoading(true); setResult(\u0026#34;\u0026#34;); setError(null); try { const ingredientsInput = inputValue.trim(); const ingredientsArray = ingredientsInput .split(\u0026#34;,\u0026#34;) .map(ingredient =\u0026gt; ingredient.trim()) .filter(ingredient =\u0026gt; ingredient.length \u0026gt; 0); // Use cross-region inference - AWS Bedrock will handle routing automatically const resultText = await callBedrockAPI(ingredientsArray); setResult(resultText || \u0026#34;No recipe content returned\u0026#34;); } catch (e) { console.error(\u0026#34;Cross-region inference failed:\u0026#34;, e); if (e instanceof Error) { setError(`Service error: ${e.message}`); } else { setError(\u0026#34;Service is currently unavailable. Please try again later.\u0026#34;); } } finally { setLoading(false); } }; const handleInputChange = (e: React.ChangeEvent\u0026lt;HTMLInputElement\u0026gt;) =\u0026gt; { setInputValue(e.target.value); }; const handleLogout = async () =\u0026gt; { try { await signOut(); // The Authenticator will handle the UI change automatically } catch (error) { console.error(\u0026#39;Error signing out: \u0026#39;, error); } }; return ( \u0026lt;div className=\u0026#34;app-container\u0026#34;\u0026gt; \u0026lt;div className=\u0026#34;nav-container\u0026#34;\u0026gt; \u0026lt;button className=\u0026#34;logout-button\u0026#34; onClick={handleLogout}\u0026gt; Log Out \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div className={`header-container ${animateIntro ? \u0026#39;fade-in\u0026#39; : \u0026#39;\u0026#39;}`}\u0026gt; \u0026lt;img src={logoImage} alt=\u0026#34;Recipe AI Logo\u0026#34; className=\u0026#34;logo\u0026#34; /\u0026gt; \u0026lt;h1 className=\u0026#34;main-header\u0026#34;\u0026gt; Do you have some \u0026lt;br /\u0026gt; \u0026lt;span className=\u0026#34;highlight\u0026#34;\u0026gt;Leftover?\u0026lt;/span\u0026gt; \u0026lt;/h1\u0026gt; \u0026lt;p className=\u0026#34;description\u0026#34;\u0026gt; Just type in any ingredients you have left in your fridge or pantry, separated by commas. We\u0026#39;ll help you create a delicious recipe with what you already have! \u0026lt;br /\u0026gt; \u0026lt;span className=\u0026#34;multilingual-note\u0026#34;\u0026gt; (Our website supports all languages, please input the ingredients in your language) \u0026lt;/span\u0026gt; \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;form onSubmit={onSubmit} className={`form-container ${animateIntro ? \u0026#39;slide-up\u0026#39; : \u0026#39;\u0026#39;}`}\u0026gt; \u0026lt;div className=\u0026#34;search-container\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; className=\u0026#34;wide-input\u0026#34; id=\u0026#34;ingredients\u0026#34; name=\u0026#34;ingredients\u0026#34; placeholder=\u0026#34;Chicken, rice, carrots, onion...\u0026#34; value={inputValue} onChange={handleInputChange} /\u0026gt; \u0026lt;button type=\u0026#34;submit\u0026#34; className=\u0026#34;search-button\u0026#34; disabled={loading || !inputValue.trim()} \u0026gt; {loading ? \u0026#39;Processing...\u0026#39; : \u0026#39;Generate\u0026#39;} \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; {(loading || result || error) \u0026amp;\u0026amp; ( \u0026lt;div className={`result-container ${result || loading || error ? \u0026#39;appear\u0026#39; : \u0026#39;\u0026#39;}`}\u0026gt; {loading ? ( \u0026lt;div className=\u0026#34;loader-container\u0026#34;\u0026gt; \u0026lt;p\u0026gt;Creating your personalized recipe...\u0026lt;/p\u0026gt; \u0026lt;Loader size=\u0026#34;large\u0026#34; /\u0026gt; \u0026lt;Placeholder size=\u0026#34;large\u0026#34; /\u0026gt; \u0026lt;Placeholder size=\u0026#34;large\u0026#34; /\u0026gt; \u0026lt;Placeholder size=\u0026#34;large\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; ) : error ? ( \u0026lt;p className=\u0026#34;result error-message\u0026#34;\u0026gt;{error}\u0026lt;/p\u0026gt; ) : ( \u0026lt;p className=\u0026#34;result\u0026#34;\u0026gt;{result}\u0026lt;/p\u0026gt; )} \u0026lt;/div\u0026gt; )} \u0026lt;/div\u0026gt; ); } export default App; resource.ts:\nimport { type ClientSchema, a, defineData } from \u0026#34;@aws-amplify/backend\u0026#34;; const schema = a.schema({ BedrockResponse: a.customType({ body: a.string(), error: a.string(), }), askBedrock: a .query() .arguments({ ingredients: a.string().array() }) .returns(a.ref(\u0026#34;BedrockResponse\u0026#34;)) .authorization((allow) =\u0026gt; [allow.authenticated()]) .handler( a.handler.custom({ entry: \u0026#34;./bedrock.js\u0026#34;, dataSource: \u0026#34;bedrockDS\u0026#34; }) ), }); export type Schema = ClientSchema\u0026lt;typeof schema\u0026gt;; export const data = defineData({ schema, authorizationModes: { defaultAuthorizationMode: \u0026#34;apiKey\u0026#34;, apiKeyAuthorizationMode: { expiresInDays: 30, }, }, }); Bedrock.ts:\nimport { defineBackend } from \u0026#34;@aws-amplify/backend\u0026#34;; import { data } from \u0026#34;./data/resource\u0026#34;; import { PolicyStatement } from \u0026#34;aws-cdk-lib/aws-iam\u0026#34;; import { auth } from \u0026#34;./auth/resource\u0026#34;; const backend = defineBackend({ auth, data, }); // Use the latest Claude 4.0 model with cross-region inference const crossRegionModelId = \u0026#34;apac.anthropic.claude-sonnet-4-20250514-v1:0\u0026#34;; //Declare the inference profile ID here const regionalModelId = \u0026#34;anthropic.claude-sonnet-4-20250514-v1:0\u0026#34;; //Declare the Bedrock modelID here // Primary region - Cross-region inference will handle routing automatically const bedrockDataSource = backend.data.resources.graphqlApi.addHttpDataSource( \u0026#34;bedrockDS\u0026#34;, \u0026#34;https://bedrock-runtime.ap-southeast-1.amazonaws.com\u0026#34;, { authorizationConfig: { signingRegion: \u0026#34;ap-southeast-1\u0026#34;, signingServiceName: \u0026#34;bedrock\u0026#34;, }, } ); // Grant permissions for cross-region inference profile bedrockDataSource.grantPrincipal.addToPrincipalPolicy( new PolicyStatement({ resources: [ // Cross-region inference profile `arn:aws:bedrock:ap-southeast-1:\u0026lt;UserID\u0026gt;:inference-profile/${crossRegionModelId}`, // Regional model as fallback `arn:aws:bedrock:ap-southeast-1::foundation-model/${regionalModelId}`, // Additional regions that might be used by cross-region inference `arn:aws:bedrock:ap-northeast-1::foundation-model/${regionalModelId}`, `arn:aws:bedrock:ap-southeast-2::foundation-model/${regionalModelId}`, `arn:aws:bedrock:ap-northeast-2::foundation-model/${regionalModelId}`, `arn:aws:bedrock:ap-northeast-3::foundation-model/${regionalModelId}`, // Add wildcard for cross-region inference to handle all regions `arn:aws:bedrock:*::foundation-model/${regionalModelId}`, ], actions: [\u0026#34;bedrock:InvokeModel\u0026#34;, \u0026#34;bedrock:InvokeModelWithResponseStream\u0026#34;], }) ); You will be able to find the Cross-Region interface profile ID here:\nGoing back to the code:\nIn the image above, you will need to specify the Cross Region Inference Profile first before the Region Model ID. You can add as many Regional Models as you want. Therefore, if you want to specify the order of region models that will be used for the project, you can write like this:\n// Regional model as fallback `arn:aws:bedrock:\u0026lt;The primary local zone\u0026gt;::foundation-model/${regionalModelId}`, // Additional regions that might be used by cross-region inference `arn:aws:bedrock:\u0026lt;The following local zone\u0026gt;::foundation-model/${regionalModelId}`, `arn:aws:bedrock:\u0026lt;The following local zone\u0026gt;::foundation-model/${regionalModelId}`, `arn:aws:bedrock:\u0026lt;The following local zone\u0026gt;::foundation-model/${regionalModelId}`, `arn:aws:bedrock:\u0026lt;The following local zone\u0026gt;::foundation-model/${regionalModelId}`, … Or if you want to use all of the subscribed Regional Models, then you can write like this:\n`arn:aws:bedrock:*::foundation-model/${regionalModelId}`, In the bedrock.js file, you will see these lines:\nFor the ModelID: Since we are using cross-region which is different from the legacy, we will need to define the inference region profile before the agent model. Then it can automatically route between different local zone within the region we defined in the backend.ts file.\nFor the max_tokens: The maximum string output can a response generate. This will help us manage the estimation cost.\nFor the temperature: This is to dictate the randomness of a response.\nFor the type: This is to define the type of content it will deliver.\nFor the text: This is to generate a prompt to the agent model.\nFurthermore, to calculate the estimation cost of the service, we will need to access to the AWS Price Estimation website (https://aws.amazon.com/vi/bedrock/pricing/) and check on the company, the area and the model that you are using for the project.\nExample: Our project, which is located in the Asia Pacific region, developed by Anthropic and the model is Claude Sonnet 4, then you can calculate the price under this formula:\n(0.003 x (The number of input tokens) / 1000) + (0.015 x (The number of output tokens) / 1000)\n"
},
{
	"uri": "http://localhost:3205/2-mfa-setup-for-aws-user-root/",
	"title": "Working on the main Functionality of the project using AWS Services",
	"tags": [],
	"description": "",
	"content": "Content Content Setting Up the IAM Identity Center Deploy the Application via AWS Amplify Setting up the Frontend, Backend and AWS Sandbox Setting Up the IAM Identity Center In order to manage multiple accounts with Single-sign on (SSO) session, users, groups, permission sets, and more for your organization, you have to set up the IAM Identity Center.\nOpen AWS Console to access IAM Identity Center and enable the process.\nOpen CloudShell and set up the management for the AWS Services using your root email as the main profile for the project.\nConfigure the account by changing the password and finish setting up the new account and signing in.\nDeploy the Application via AWS Amplify After initializing Amplify and enabling IAM Identity Center in the project, the application was deployed using AWS Amplify’s hosting feature, which supports seamless integration.\nConnect and Deploy AWS Amplify with the Repository from your GitHub.\nEdit the Build specification in the Amplify file.\nSave and Redeploy the App.\nSetting up the Frontend, Backend and AWS Sandbox You will need to set up the frontend, back and the aws sandbox following these steps.\nFrontend and Backend Install the libraries necessary using npm inside the local repository for AWS Amplify and update the following files:l-2-ways\nsrc/index.css (For Frontend) src/App.css (For Frontend) src/main.tsx (For UI) src/App.tsx (For UI) Set up the resources file for Amplify Data by creating the file:\namplify/data/resource.ts Amplify Sandbox Using npm to install Amplify Sandbox.\nAfter setting up, you will need to configure a profile inside the sandbox.\nConfigure and make a localhost.\n"
},
{
	"uri": "http://localhost:3205/3-create-admin-user-and-group/3.3-cloudwatch/",
	"title": "Apply CloudWatch to monitor average response time",
	"tags": [],
	"description": "",
	"content": "Content On AWS Management Console, go to CloudWatch → Metrics → All metrics.\nIn the search box on the right, find “AWS Bedrock” and choose Bedrock \u0026gt; By ModelID.\nChoose any log options that you want to look out for. In this case, it should be Invocations (to see how many Invoke has been triggered during a specific time) and InvocationLatency (the latency between invoke and returned results).\nNow go back to Dashboard on the left tab and click Create dashboard.\nName the newly created dashboard. In my case, I named it LeftoverResponseLatency. In the Add widget table, choose Cloudwatch for Data source types. You can pick whichever Widget Type you are fancy with or just choose Number like me.\nNow these are the number of average response time for you to see. You can do the same for the other fallback region to monitor its average response time as well.\n"
},
{
	"uri": "http://localhost:3205/4-verify-new-account/4.3-lambda/",
	"title": "Build the Lambda",
	"tags": [],
	"description": "",
	"content": "Content Set up IAM role for Lambda Go to IAM console → Roles → Create Role\nChoose AWS Service for Trusted entity and Lambda for Use case in the first step\nFor Permissions Policies, choose AWSLambdaBasicExecutionRole.\nFor Role name, we named it LeftoverDataCollectionRole, but you can pick your own poison to be fair. Afterward, go back to the Roles tab and click on the role we just created. Click on Add permissions → Create inline policy.\nIn the Policy Editor, switch to JSON.\nThen replace the text with these line of codes:\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;s3:PutObject\u0026#34;, \u0026#34;s3:PutObjectAcl\u0026#34;, \u0026#34;s3:GetObject\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:s3:::leftover-storage/*\u0026#34; } ] } Here should be the result:\nCreate Lambda function for data collection Go to Lambda Console → click Create Function\n•\tFunction name: leftover-data-collector •\tRuntime: Node.js 22.x •\tArchitecture: x86_64 •\tExecution role: Use existing role → LeftoverDataCollectionRole Fill that out and click Create function\nClick on the new Lambda function we just created, in Code source, index.js, replace it with this snippet:\nimport { S3Client, PutObjectCommand } from \u0026#34;@aws-sdk/client-s3\u0026#34;; const s3Client = new S3Client({ region: \u0026#34;ap-southeast-1\u0026#34; }); export const handler = async (event) =\u0026gt; { try { const { ingredients, timestamp, userId, sessionId } = JSON.parse(event.body); // Create partition path based on date const date = new Date(timestamp); const year = date.getFullYear(); const month = String(date.getMonth() + 1).padStart(2, \u0026#39;0\u0026#39;); const day = String(date.getDate()).padStart(2, \u0026#39;0\u0026#39;); // Create unique filename const filename = `${sessionId}-${Date.now()}.json`; const key = `user-inputs/year=${year}/month=${month}/day=${day}/${filename}`; // Prepare data for storage const dataToStore = { timestamp, userId, sessionId, ingredients: ingredients.split(\u0026#39;,\u0026#39;).map(ing =\u0026gt; ing.trim()), ingredientCount: ingredients.split(\u0026#39;,\u0026#39;).length, rawInput: ingredients, metadata: { userAgent: event.headers[\u0026#39;User-Agent\u0026#39;] || \u0026#39;unknown\u0026#39;, sourceIP: event.requestContext?.identity?.sourceIp || \u0026#39;unknown\u0026#39; } }; // Store in S3 const command = new PutObjectCommand({ Bucket: \u0026#39;leftover-storage\u0026#39;, Key: key, Body: JSON.stringify(dataToStore), ContentType: \u0026#39;application/json\u0026#39; }); await s3Client.send(command); return { statusCode: 200, headers: { \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39;, \u0026#39;Access-Control-Allow-Headers\u0026#39;: \u0026#39;Content-Type\u0026#39;, \u0026#39;Access-Control-Allow-Methods\u0026#39;: \u0026#39;POST, OPTIONS\u0026#39; }, body: JSON.stringify({ message: \u0026#39;Data stored successfully\u0026#39;, key: key }) }; } catch (error) { console.error(\u0026#39;Error storing data:\u0026#39;, error); return { statusCode: 500, headers: { \u0026#39;Access-Control-Allow-Origin\u0026#39;: \u0026#39;*\u0026#39; }, body: JSON.stringify({ error: \u0026#39;Failed to store data\u0026#39; }) }; } }; "
},
{
	"uri": "http://localhost:3205/12-s3-bucket-for-data-storage/12.3-create-the-bucket/",
	"title": "Create the Bucket",
	"tags": [],
	"description": "",
	"content": "Review and Create After configuring all the necessary settings, it\u0026rsquo;s time to review and create your S3 bucket.\nFinal Review Before creating the bucket:\nReview all your configuration settings to ensure they match the requirements: Bucket name: leftover-storage Region: ap-southeast-1 Public access: Blocked Versioning: Enabled Encryption: SSE-S3 enabled Create the Bucket Scroll down to the bottom of the configuration page. Click Create bucket to finalize the creation process. Successful Creation Once the bucket is created successfully:\nYou will see a confirmation message indicating the bucket was created. Your new S3 bucket will appear in the S3 console bucket list. Result Your S3 bucket leftover-storage is now ready to store your application data securely with:\nVersioning enabled for data integrity Public access blocked for security Default encryption for data protection The bucket is now ready to integrate with your application for secure data storage.\n"
},
{
	"uri": "http://localhost:3205/3-create-admin-user-and-group/",
	"title": "Creating and Developing Amazon Bedrock and CloudWatch",
	"tags": [],
	"description": "",
	"content": "Content Setting up AWS Bedrock Model (2 Ways) Legacy Way Cross-Region Way Deploy Cloudwatch Request Amazon Bedrock models You will be using Bedrock Model and setting up using Claude Sonnet.\nThere will be two ways to build the Bedrock Model based on how you intepret.\nImplementing the servers using manual coding for a fallback server. Using cross-region to make a fallback server. Legacy Way Go to Amazon Bedrock and get for yourself the AI Model. In this case, it should be Claude Sonnet 2.5\nChange AWS region to another region that is suitable → repeat Step 1 to enable Claude 3.5 Sonnet in that region. This provides a backup model in case of failure or latency.\nIn Amplify backend:\nModify backend.ts to add two data sources: one for primary and one for fallback with correct PolicyStatement.\nCreate bedrock.js under amplify/data → handle request/response logic for model invocation with fallback logic.\nUpdate resource.ts to define askBedrock and askBedrockFallback GraphQL queries, attach to the right data source, and configure authentication.\nCross-Region Way To ensure high availability and performance, you can configure Claude models to work across AWS regions using cross-region inference profiles.\nGo to Amazon Bedrock and select a Claude Sonnet 4 → click Next and confirm access.\nClick Cross-region inference beside the model → copy the Inference profile ID and Model ID for each region you want to support.\nIn backend.ts, configure both Cross-Region and Fallback endpoints using addHttpDataSource() and grant model access with the correct ARN.\nIn bedrock.js, use the modelId dynamically in resourcePath, and define max_tokens, temperature, and other parameters as needed.\nDeploy Cloudwatch To track model invocation and latency, set up a simple dashboard in AWS CloudWatch.\nGo to CloudWatch → Metrics → All metrics, search for AWS Bedrock, then select Bedrock \u0026gt; By ModelID.\nChoose metrics such as:\nInvocations (number of invoke calls) and InvocationLatency (response time)\nGo to CloudWatch again to create dashboard.\nAdd a widget and equip the metrics.\n"
},
{
	"uri": "http://localhost:3205/1-create-new-aws-account/1.3-aws-account-alias/",
	"title": "Setting Up Amplify For The Project",
	"tags": [],
	"description": "",
	"content": "Intializing Amplify in the project First, you will need to use the npm command:\nnpm create amplify@latest -y This command sets up a minimal Amplify project, preparing the application for AWS resource integration.\nProject Structure Update and Version Control Reminder Upon successful execution, an amplify/ directory is generated in the root folder of the project. This directory contains all configurations and backend environment settings related to Amplify.\nAfter this change, remember to commit and push the updates to the GitHub repository:\ngit add . git commit -m \u0026#34;Add AWS Amplify setup\u0026#34; git push Results The screenshot below highlights the newly added amplify folder in the project directory, confirming successful initialization.\n"
},
{
	"uri": "http://localhost:3205/2-mfa-setup-for-aws-user-root/3-other-hardware-mfa-device/",
	"title": "Setting up the Frontend, Backend and AWS Sandbox",
	"tags": [],
	"description": "",
	"content": "Content\nEnable other hardware MFA device through the Console Coding the Frontend In the terminal window, navigate to leftover folder and run this command to install the libraries:\nnpm install aws-amplify @aws-amplify/ui-react Open index.css file in src folder and update it with the following code to center the App UI:\n:root { font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif; line-height: 1.5; font-weight: 400; color: rgba(255, 255, 255, 0.87); font-synthesis: none; text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; max-width: 1280px; margin: 0 auto; padding: 2rem; } .card { padding: 2em; } .read-the-docs { color: #888; } .box:nth-child(3n + 1) { grid-column: 1; } .box:nth-child(3n + 2) { grid-column: 2; } .box:nth-child(3n + 3) { grid-column: 3; } Then update the App.css which is also in the same src folder with:\n.app-container { margin: 0 auto; padding: 20px; text-align: center; } .header-container { padding-bottom: 2.5rem; margin: auto; text-align: center; max-width: 48rem; } .main-header { font-size: 2.25rem; font-weight: bold; color: #1a202c; } .main-header .highlight { color: #2563eb; } @media (min-width: 640px) { .main-header { font-size: 3.75rem; } } .description { font-weight: 500; font-size: 1.125rem; max-width: 65ch; color: #1a202c; } Coding the Backend Update main.tsx file in src folder with these codes to allow users to sign up, sign in, reset their password, and confirm sign-in for MFA with the Amplify Authenticator component:\nimport React from \u0026#34;react\u0026#34;; import ReactDOM from \u0026#34;react-dom/client\u0026#34;; import App from \u0026#34;./App.jsx\u0026#34;; import \u0026#34;./index.css\u0026#34;; import { Authenticator } from \u0026#34;@aws-amplify/ui-react\u0026#34;; ReactDOM.createRoot(document.getElementById(\u0026#34;root\u0026#34;)!).render( \u0026lt;React.StrictMode\u0026gt; \u0026lt;Authenticator\u0026gt; \u0026lt;App /\u0026gt; \u0026lt;/Authenticator\u0026gt; \u0026lt;/React.StrictMode\u0026gt; ); In the same src folder, implement a simple UI for the App.tsx:\nimport { FormEvent, useState } from \u0026#34;react\u0026#34;; import { Loader, Placeholder } from \u0026#34;@aws-amplify/ui-react\u0026#34;; import \u0026#34;./App.css\u0026#34;; import { Amplify } from \u0026#34;aws-amplify\u0026#34;; import outputs from \u0026#34;../amplify_outputs.json\u0026#34;; import \u0026#34;@aws-amplify/ui-react/styles.css\u0026#34;; Amplify.configure(outputs); function App() { return ( \u0026lt;div className=\u0026#34;app-container\u0026#34;\u0026gt; \u0026lt;div className=\u0026#34;header-container\u0026#34;\u0026gt; \u0026lt;h1 className=\u0026#34;main-header\u0026#34;\u0026gt; This here is \u0026lt;br /\u0026gt; \u0026lt;span className=\u0026#34;highlight\u0026#34;\u0026gt;just a website\u0026lt;/span\u0026gt; \u0026lt;/h1\u0026gt; \u0026lt;p className=\u0026#34;description\u0026#34;\u0026gt; You can develop your own website and deploy it to AWS Amplify. \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ); } export default App; Lastly, setup Amplify Data by create a resource.ts file in amplify/data folder and update it with following code:\nimport { type ClientSchema, a, defineData } from \u0026#34;@aws-amplify/backend\u0026#34;; const schema = a.schema({ // Empty schema but properly formatted }); export type Schema = ClientSchema\u0026lt;typeof schema\u0026gt;; export const data = defineData({ schema, authorizationModes: { defaultAuthorizationMode: \u0026#34;apiKey\u0026#34;, apiKeyAuthorizationMode: { expiresInDays: 30, }, }, }); Setup AWS Sandbox By using Amplify Sandbox, developers can rapidly integrate the website within an isolated development environment, while still able to use AWS services and features. In order to do that, run open a new terminal window, navigate to workshop2 directory and run the following command:\nnpx ampx sandbox Once the cloud sandbox has been fully deployed, your terminal will display a confirmation message and the amplify_outputs.json file will be generated and added to your project.\n→If it says InvalidCredentialError: Failed to load default AWS credentials it means you need to configure your profile, in order to do that, type:\naws configure You can find the necessary information in the logged in session of your amplify-admin account by logging into the AWS Identity Center. Log into the Center and you will be able to find your code here.\nSo, once you click into the keys, you will be able to see the 3 options. Based on the operation you are running, choose the suitable one. In my case, it will be Windows.\nYou will be seeing the SSO and every info necessary for your SSO registration.\nRedo:\naws configure As for SSO session name and Profile name, please leave it at amplify-default. You can leave the SSO registration scopes and CLI default output format as blank.\nAfterward, type in:\naws configure sso You should see this in response:\nYou shall see the link. Click on it, and click on Allow Access.\nYou shall be greeted with this message.\nThen, in order to use your newly created profile, type in: npx ampx sandbox –profile amplify-default (or whatever your profile name is) The terminal will output this line “[Sandbox] Watching for file changes…” when success.\n→If it says SSMCredentialsError: UnrecognizedClientException: The security token included in the request is invalid, it might be due to a conflict amplify accounts, in order to fix this problem, navigate to C:\\Users\\YourUserName.aws and delete everything in there then start configure your profile as demonstrated above.\nFinally, to check the sso, you can use these commands.\naws sts get-caller-identity --profile amplify-1 npm ampx sandbox --profile amplify-1 When you’re done with setting up the sandbox environment, run:\nnpm run dev to initialize a localhost for your website, you can then get access to the website locally at locahost:5173.\nAfterwards, sign up and sign in using your account normally. Remember to verify your account as well.\nThe result should be:\n"
},
{
	"uri": "http://localhost:3205/4-verify-new-account/",
	"title": "Build the website frontend, S3 and Lambda",
	"tags": [],
	"description": "",
	"content": "Content:\nBuild The Website Frontend Build the S3 Build the Lambda Function Build The Website Frontend For this project, we have created our own custom logo simply just for aesthetic reason, you can drop in your own logo or remove it entirely.\nCreate another folder inside src folder, create a folder to store the pictures inside the newlymade folder, and put the images inside.\nAdjust the App.tsx, App.css and index.css file to match the design you desire.\nBuild the S3 You will also need to create a bucket for storage. The steps are basics.\nBuild the Lambda Function To create Lambda, you will need to:\nSet up IAM role for Lambda.\nCreate Lambda function for data collection.\n"
},
{
	"uri": "http://localhost:3205/12-s3-bucket-for-data-storage/",
	"title": "Creating S3 Bucket for Data Storage",
	"tags": [],
	"description": "",
	"content": "Content:\nNavigate to S3 Console Configure Bucket Settings Create the Bucket Amazon S3 (Simple Storage Service) provides secure, durable, and scalable object storage. In this section, we\u0026rsquo;ll create an S3 bucket to store application data with proper security and versioning configurations.\nNavigate to S3 Console Access the AWS Management Console and search for the S3 service. Click Create bucket to begin the bucket creation process. This opens the configuration page where you\u0026rsquo;ll specify all bucket settings. Configure Bucket Settings Set the bucket name to leftover-storage (must be globally unique). Select region ap-southeast-1 to match your Amplify app location. Keep all Block Public Access settings checked for security. Enable Bucket Versioning for data integrity and recovery. Enable Default Encryption with SSE-S3 for automatic data protection. Create the Bucket Review all configuration settings to ensure they match requirements. Click Create bucket to finalize the creation process. Verify the bucket appears successfully in your S3 console. "
},
{
	"uri": "http://localhost:3205/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "http://localhost:3205/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]